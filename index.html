<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <title>I N C I | Admin</title>
    <style>
        body { font-family: sans-serif; background: #f0f2f5; padding: 20px; }
        .box { background: white; padding: 15px; border-radius: 12px; margin-bottom: 20px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        input, select, button { width: 100%; padding: 10px; margin: 5px 0; border-radius: 8px; border: 1px solid #ddd; }
        .order-card { border-left: 5px solid #2563eb; padding: 15px; background: #fff; margin-bottom: 10px; border-radius: 8px; }
    </style>
</head>
<body>

    <div class="box">
        <h3>Yeni MÉ™hsul</h3>
        <input id="n" placeholder="Ad">
        <input id="p" type="number" placeholder="QiymÉ™t">
        <input id="i" placeholder="ÅÉ™kil URL">
        <input id="c" placeholder="Kateqoriya (MÉ™s: Pastalar)">
        <button onclick="add()" style="background:#2563eb; color:white; border:none; cursor:pointer;">ÆlavÉ™ et</button>
    </div>

    <h3>SifariÅŸlÉ™r</h3>
    <div id="orders"></div>

<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
<script>
    firebase.initializeApp({ databaseURL: "https://azad042-65afa-default-rtdb.firebaseio.com" });
    const db = firebase.database();

    function add() {
        db.ref('products').push({
            name: document.getElementById("n").value,
            price: document.getElementById("p").value,
            img: document.getElementById("i").value,
            category: document.getElementById("c").value
        });
        alert("ÆlavÉ™ edildi!");
    }

    db.ref('orders').on('value', snap => {
        let html = "";
        snap.forEach(child => {
            let o = child.val();
            html += `<div class="order-card">
                <b>#${o.id} - ${o.total}</b><br>
                ğŸ‘¤ <b>MÃ¼ÅŸtÉ™ri:</b> ${o.customer}<br>
                ğŸ“ <b>Tel:</b> ${o.phone}<br>
                ğŸ“ <b>Ãœnvan:</b> ${o.address}<br>
                ğŸ“¦ <b>MÉ™hsullar:</b> ${o.items}<br>
                <select onchange="db.ref('orders/${child.key}').update({status: this.value})">
                    <option ${o.status=='SifariÅŸ verildi'?'selected':''}>SifariÅŸ verildi</option>
                    <option ${o.status=='HazÄ±rlanÄ±r'?'selected':''}>HazÄ±rlanÄ±r</option>
                    <option ${o.status=='PaketlÉ™mÉ™'?'selected':''}>PaketlÉ™mÉ™</option>
                    <option ${o.status=='Yola dÃ¼ÅŸÃ¼b'?'selected':''}>Yola dÃ¼ÅŸÃ¼b</option>
                    <option ${o.status=='TÉ™hvil verildi'?'selected':''}>TÉ™hvil verildi</option>
                </select>
                <button onclick="db.ref('orders/${child.key}').remove()" style="background:red; color:white; border:none; width:auto; padding:5px 10px; border-radius:5px; cursor:pointer;">Sil</button>
            </div>`;
        });
        document.getElementById("orders").innerHTML = html || "SifariÅŸ yoxdur.";
    });
</script>
</body>
</html>
