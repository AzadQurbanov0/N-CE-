<!DOCTYPE html>
<html lang="az">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<title>ƒ∞stifad…ô√ßi Paneli - üí≤ PUL Y√úKL∆è</title>
<style>
:root{
  --bg1:#0f0c29;
  --bg2:#302b63;
  --bg3:#24243e;
  --card:rgba(255,255,255,0.06);
  --glass:rgba(255,255,255,0.12);
  --text:#f8fafc;
  --accent:#22c55e;
}
*{box-sizing:border-box;margin:0;padding:0;}
html,body{height:100%;}
body{
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,'Helvetica Neue',Arial;
  color:var(--text);
  background:linear-gradient(135deg,var(--bg1),var(--bg2),var(--bg3));
  display:flex;
  justify-content:center;
  align-items:flex-start;
  flex-direction:column;
  padding:20px;
}
.user-info{font-size:1rem;font-weight:600;opacity:.9;margin-bottom:6px;}
.card{
  position:relative;
  width:min(60vw,320px);
  aspect-ratio:1/1;
  display:grid;
  place-items:center;
  background: radial-gradient(60% 60% at 50% 30%,var(--glass),transparent 70%),var(--card);
  border:1px solid rgba(255,255,255,0.14);
  border-radius:24px;
  box-shadow:0 15px 40px rgba(0,0,0,0.35), inset 0 1px 0 rgba(255,255,255,0.08);
  backdrop-filter:blur(6px);
  margin-top:20px;
}
.bag{font-size:clamp(5rem,18vw,12rem);filter:drop-shadow(0 8px 15px rgba(0,0,0,0.35));user-select:none;animation:float 5s ease-in-out infinite;}
.balance{margin-top:10px;display:grid;place-items:center;font-weight:700;letter-spacing:1px;text-shadow:0 2px 5px rgba(0,0,0,0.5);}
.balance .symbol{font-size:clamp(1rem,2.5vw,1.5rem);opacity:.9;margin-right:4px;}
.balance .value{font-size:clamp(1.5rem,5vw,2.5rem);line-height:1;}
.google-btn{
  margin-top:14px;
  padding:8px 16px;
  font-size:0.95rem;
  background:#4285F4;
  color:white;
  border:none;
  border-radius:8px;
  cursor:pointer;
  display:flex;
  align-items:center;
  gap:6px;
  font-weight:600;
}
.google-btn img{width:18px;height:18px;}
#lineBtn{
  position:fixed;
  top:20px;
  right:20px;
  padding:12px 25px;
  font-size:1.2rem;
  background:#1f7a3f;
  color:white;
  border:none;
  border-radius:10px;
  cursor:pointer;
  font-weight:600;
}
#paymentText{
  margin-top:20px;
  color:white;
  font-size:1.5rem;
  font-weight:600;
  text-align:center;
  white-space: pre;
  line-height:1.4;
}
.line{
  opacity:0;
  transition: opacity 1s ease;
}
.line.show{
  opacity:1;
}
.glow{position:absolute;inset:-30%;pointer-events:none;background:radial-gradient(40% 35% at 50% 10%, rgba(34,197,94,.25), transparent 60%),radial-gradient(30% 30% at 80% 70%, rgba(99,102,241,.18), transparent 60%);filter:blur(30px);}
@keyframes float{0%,100%{transform:translateY(0);}50%{transform:translateY(-5px);}}
/* üéä animasiya */
.confetti {
  position: fixed;
  width: 10px;
  height: 10px;
  background: #FFD700;
  top: -10px;
  animation: fall 3s linear forwards;
  z-index:9999;
}
@keyframes fall {
  to { transform: translateY(100vh) rotate(360deg); opacity:0; }
}
</style>
</head>
<body>

<div id="userInfo" class="user-info"></div>

<div class="card">
  <div class="glow"></div>
  <div class="bag">üí∞</div>
  <div class="balance"><span class="symbol">AZN</span><span id="balance" class="value">0.00</span></div>
</div>

<button class="google-btn" id="loginBtn"><img src="https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg" alt="G"> Google il…ô Giri≈ü</button>

<!-- PUL Y√úKL∆è -->
<button id="lineBtn">üí≤ PUL Y√úKL∆è</button>
<div id="paymentText">
  <div class="line" id="line1">M10 077 543 50 53</div>
  <div class="line" id="line2">     √ñD∆èNƒ∞≈û ET</div>
  <div class="line" id="line3">   √áEKƒ∞ G√ñND∆èR</div>
</div>

<!-- Firebase SDK -->
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.14.0/firebase-database-compat.js"></script>

<script>
// Firebase konfiqurasiya
const firebaseConfig = {
  apiKey: "AIzaSyC4sGTK_P4KperVswrxxmt69H5cocsgnNw",
  authDomain: "niceuc-e5986.firebaseapp.com",
  databaseURL: "https://niceuc-e5986-default-rtdb.firebaseio.com",
  projectId: "niceuc-e5986",
  storageBucket: "niceuc-e5986.firebasestorage.app",
  messagingSenderId: "242221260650",
  appId: "1:242221260650:web:d140153a2167c4738dcf13",
  measurementId: "G-YKKRHJKYNB"
};

firebase.initializeApp(firebaseConfig);
const auth = firebase.auth();
const db = firebase.database();

// Google il…ô daxil ol
function openLoginModal() {
  const provider = new firebase.auth.GoogleAuthProvider();
  auth.signInWithPopup(provider)
      .then(result => saveUser(result.user))
      .catch(error => showPopup(error.message, true));
}

document.getElementById('loginBtn').addEventListener('click', openLoginModal);

// ƒ∞stifad…ô√ßini yadda saxlamaq v…ô balansƒ± g√∂st…ôrm…ôk
function saveUser(user){
  const userInfo = document.getElementById('userInfo');
  userInfo.textContent = `Salam, ${user.displayName} (${user.email})`;

  const userBalanceRef = db.ref('balances/' + user.uid);
  userBalanceRef.on('value', (snapshot) => {
    const balance = snapshot.val() || 0;
    document.getElementById('balance').textContent = parseFloat(balance).toFixed(2);
    // üéä animasiya h…ôr balans yenil…ôn…ônd…ô
    createConfetti();
  });
}

// Auto login
auth.onAuthStateChanged((user) => {
  if(user){
    saveUser(user);
  }
});

function showPopup(msg,isError){
  alert(msg);
}

// PUL Y√úKL∆è button animasiya
const lines = [
  document.getElementById('line1'),
  document.getElementById('line2'),
  document.getElementById('line3')
];

document.getElementById('lineBtn').addEventListener('click', ()=>{
  lines.forEach((line, index)=>{
    setTimeout(()=>line.classList.add('show'), index*500);
  });
});

// üéä Confetti yarat
function createConfetti(){
  for(let i=0;i<30;i++){
    const conf = document.createElement('div');
    conf.className = 'confetti';
    conf.style.left = Math.random()*100 + 'vw';
    conf.style.background = `hsl(${Math.random()*360}, 100%, 50%)`;
    conf.style.width = conf.style.height = (5+Math.random()*10)+'px';
    document.body.appendChild(conf);
    setTimeout(()=>conf.remove(),3000);
  }
}
</script>
</body>
</html>
